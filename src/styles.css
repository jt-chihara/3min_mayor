:root{
  --bg:#0f172a;
  --panel:#111827;
  --panel-2:#1f2937;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#22c55e;
  --accent-2:#38bdf8;
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";color:var(--text);background:linear-gradient(180deg,#0b1023 0%,#0f172a 60%,#121a31 100%)}
.topbar{display:flex;align-items:center;gap:12px;padding:10px 14px;border-bottom:1px solid #263047;background:rgba(17,24,39,.8);backdrop-filter:saturate(140%) blur(6px);position:sticky;top:0;z-index:10}
.metric{display:flex;gap:6px;align-items:baseline;background:var(--panel-2);padding:6px 10px;border-radius:8px}
.metric .label{font-size:12px;color:var(--muted)}
.metric span:last-child{font-weight:700}
.metric.neg span:last-child{color:#ef4444}
.actions{margin-left:auto;display:flex;gap:8px}
.btn{background:var(--panel-2);color:var(--text);border:1px solid #2b3855;border-radius:8px;padding:8px 12px;cursor:pointer}
.btn:hover{border-color:#3c4a6b}
.layout{display:grid;grid-template-columns:minmax(320px,1fr) 320px;gap:12px;max-width:1100px;margin:16px auto;padding:0 12px}
.board{display:grid;grid-template-columns:repeat(10,1fr);grid-template-rows:repeat(10,1fr);aspect-ratio:1;background:#0d1326;border:1px solid #2b3855;border-radius:8px;overflow:hidden}
.cell{position:relative;border:1px solid #1d2540;display:flex;align-items:center;justify-content:center;font-size:18px;user-select:none;cursor:pointer}
.cell:hover{outline:2px solid #3c4a6b;outline-offset:-2px}
.sidebar{background:var(--panel);border:1px solid #2b3855;border-radius:8px;padding:12px}
.sidebar h2{margin:6px 0 10px 0;font-size:18px;color:#cbd5e1}
.tools{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px;max-height:520px;overflow:auto}
.tool{display:flex;gap:8px;align-items:center;justify-content:space-between;background:var(--panel-2);border:1px solid #2b3855;border-radius:8px;padding:8px}
.tool .info{display:flex;gap:8px;align-items:center}
.tool .icon{width:24px;height:24px;display:grid;place-items:center;font-size:18px}
.tool .name{font-weight:600}
.tool .meta{color:var(--muted);font-size:12px}
.tool .select{background:#0f172a;color:var(--text);border:1px solid #2b3855;border-radius:6px;padding:6px 10px;cursor:pointer}
.tool .select.active{border-color:var(--accent-2);box-shadow:0 0 0 1px var(--accent-2) inset}
.tip{margin-top:10px;color:var(--muted)}
.bottombar{max-width:1100px;margin:6px auto;padding:0 12px;color:var(--muted)}
.t-empty{background:#0d1326}
.t-park{background:#14532d}
.t-house{background:#1e3a8a}
.t-apt{background:#1d4ed8}
.t-rail{background:#7c2d12}
.t-station{background:#9a3412}
.overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:grid;place-items:center}
.overlay.hidden{display:none}
.dialog{background:var(--panel);border:1px solid #2b3855;border-radius:10px;max-width:520px;width:92%;padding:16px}
.dialog h2{margin:0 0 8px 0}
.dialog-actions{display:flex;justify-content:flex-end;margin-top:10px}
.dialog-actions .btn{padding:8px 12px}
@media (max-width: 860px){.layout{grid-template-columns:1fr}}
